# [状态码](https://www.django-rest-framework.org/api-guide/status-codes/#status-codes)

> 418我是茶壶-任何尝试用茶壶冲咖啡的操作都将导致错误代码“ 418我是茶壶”。生成的实体主体可能短而粗壮。
>
> — [RFC 2324](https://www.ietf.org/rfc/rfc2324.txt)，超文本咖啡壶控制协议

不建议在响应中使用裸状态代码。REST框架包括一组命名常量，您可以使用它们使代码更清晰易读。

```
from rest_framework import status
from rest_framework.response import Response

def empty_view(self):
    content = {'please move along': 'nothing to see here'}
    return Response(content, status=status.HTTP_404_NOT_FOUND)
```

`status`下面列出了模块中包含的完整HTTP状态代码集。

该模块还包括一组帮助程序功能，用于测试状态码是否在给定范围内。

```
from rest_framework import status
from rest_framework.test import APITestCase

class ExampleTestCase(APITestCase):
    def test_url_root(self):
        url = reverse('index')
        response = self.client.get(url)
        self.assertTrue(status.is_success(response.status_code))
```

有关HTTP状态代码的正确用法的更多信息，请参阅[RFC 2616](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) 和[RFC 6585](https://tools.ietf.org/html/rfc6585)。

## [信息性-1xx](https://www.django-rest-framework.org/api-guide/status-codes/#informational-1xx)

此类状态码表示临时响应。默认情况下，REST框架中没有使用1xx状态代码。

```
HTTP_100_CONTINUE
HTTP_101_SWITCHING_PROTOCOLS
```

## [成功-2xx](https://www.django-rest-framework.org/api-guide/status-codes/#successful-2xx)

此类状态码表示已成功接收，理解并接受了客户的请求。

```
HTTP_200_OK
HTTP_201_CREATED
HTTP_202_ACCEPTED
HTTP_203_NON_AUTHORITATIVE_INFORMATION
HTTP_204_NO_CONTENT
HTTP_205_RESET_CONTENT
HTTP_206_PARTIAL_CONTENT
HTTP_207_MULTI_STATUS
HTTP_208_ALREADY_REPORTED
HTTP_226_IM_USED
```

## [重定向-3xx](https://www.django-rest-framework.org/api-guide/status-codes/#redirection-3xx)

此类状态码表示用户代理需要采取进一步的措施才能满足请求。

```
HTTP_300_MULTIPLE_CHOICES
HTTP_301_MOVED_PERMANENTLY
HTTP_302_FOUND
HTTP_303_SEE_OTHER
HTTP_304_NOT_MODIFIED
HTTP_305_USE_PROXY
HTTP_306_RESERVED
HTTP_307_TEMPORARY_REDIRECT
HTTP_308_PERMANENT_REDIRECT
```

## [客户端错误-4xx](https://www.django-rest-framework.org/api-guide/status-codes/#client-error-4xx)

状态码4xx类用于客户端似乎已出错的情况。除响应HEAD请求外，服务器应包含一个实体，该实体包含错误情况的说明，以及它是暂时还是永久的情况。

```
HTTP_400_BAD_REQUEST
HTTP_401_UNAUTHORIZED
HTTP_402_PAYMENT_REQUIRED
HTTP_403_FORBIDDEN
HTTP_404_NOT_FOUND
HTTP_405_METHOD_NOT_ALLOWED
HTTP_406_NOT_ACCEPTABLE
HTTP_407_PROXY_AUTHENTICATION_REQUIRED
HTTP_408_REQUEST_TIMEOUT
HTTP_409_CONFLICT
HTTP_410_GONE
HTTP_411_LENGTH_REQUIRED
HTTP_412_PRECONDITION_FAILED
HTTP_413_REQUEST_ENTITY_TOO_LARGE
HTTP_414_REQUEST_URI_TOO_LONG
HTTP_415_UNSUPPORTED_MEDIA_TYPE
HTTP_416_REQUESTED_RANGE_NOT_SATISFIABLE
HTTP_417_EXPECTATION_FAILED
HTTP_422_UNPROCESSABLE_ENTITY
HTTP_423_LOCKED
HTTP_424_FAILED_DEPENDENCY
HTTP_426_UPGRADE_REQUIRED
HTTP_428_PRECONDITION_REQUIRED
HTTP_429_TOO_MANY_REQUESTS
HTTP_431_REQUEST_HEADER_FIELDS_TOO_LARGE
HTTP_451_UNAVAILABLE_FOR_LEGAL_REASONS
```

## [服务器错误-5xx](https://www.django-rest-framework.org/api-guide/status-codes/#server-error-5xx)

以数字“ 5”开头的响应状态代码表示服务器知道服务器已出错或无法执行请求的情况。除响应HEAD请求外，服务器应包含一个实体，该实体包含错误情况的说明，以及它是暂时还是永久的情况。

```
HTTP_500_INTERNAL_SERVER_ERROR
HTTP_501_NOT_IMPLEMENTED
HTTP_502_BAD_GATEWAY
HTTP_503_SERVICE_UNAVAILABLE
HTTP_504_GATEWAY_TIMEOUT
HTTP_505_HTTP_VERSION_NOT_SUPPORTED
HTTP_506_VARIANT_ALSO_NEGOTIATES
HTTP_507_INSUFFICIENT_STORAGE
HTTP_508_LOOP_DETECTED
HTTP_509_BANDWIDTH_LIMIT_EXCEEDED
HTTP_510_NOT_EXTENDED
HTTP_511_NETWORK_AUTHENTICATION_REQUIRED
```

## [辅助功能](https://www.django-rest-framework.org/api-guide/status-codes/#helper-functions)

以下帮助程序功能可用于标识响应代码的类别。

```
is_informational()  # 1xx
is_success()        # 2xx
is_redirect()       # 3xx
is_client_error()   # 4xx
is_server_error()   # 5xx
```